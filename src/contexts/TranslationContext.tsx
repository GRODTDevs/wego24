
import React, { createContext, useContext, useState, ReactNode } from 'react';

type Language = 'en' | 'es' | 'de';

interface Translations {
  [key: string]: string;
}

interface TranslationContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const TranslationContext = createContext<TranslationContextType | undefined>(undefined);

const translations: Record<Language, Translations> = {
  en: {
    // Navigation
    'nav.home': 'Home',
    'nav.restaurants': 'Restaurants',
    'nav.orders': 'Orders',
    'nav.driver': 'Driver',
    'nav.partner': 'Partner',
    'nav.dashboard': 'Dashboard',
    'nav.profile': 'Profile',
    'nav.login': 'Login',
    'nav.logout': 'Logout',
    'nav.signup': 'Sign Up',
    'nav.admin': 'Admin',
    'nav.subscription': 'Subscription',
    'nav.courier': 'Courier',
    'nav.settings': 'Settings',
    'nav.help': 'Help',
    'nav.contact': 'Contact',
    
    // Common
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.cancel': 'Cancel',
    'common.confirm': 'Confirm',
    'common.save': 'Save',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.view': 'View',
    'common.back': 'Back',
    'common.next': 'Next',
    'common.previous': 'Previous',
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.sort': 'Sort',
    'common.total': 'Total',
    'common.subtotal': 'Subtotal',
    'common.tax': 'Tax',
    'common.fee': 'Fee',
    'common.price': 'Price',
    'common.quantity': 'Quantity',
    'common.name': 'Name',
    'common.email': 'Email',
    'common.phone': 'Phone',
    'common.address': 'Address',
    'common.city': 'City',
    'common.status': 'Status',
    'common.date': 'Date',
    'common.time': 'Time',
    'common.description': 'Description',
    'common.notes': 'Notes',
    'common.rating': 'Rating',
    'common.review': 'Review',
    'common.submit': 'Submit',
    'common.close': 'Close',
    'common.open': 'Open',
    'common.closed': 'Closed',
    'common.available': 'Available',
    'common.unavailable': 'Unavailable',
    'common.active': 'Active',
    'common.inactive': 'Inactive',
    'common.pending': 'Pending',
    'common.approved': 'Approved',
    'common.rejected': 'Rejected',
    'common.completed': 'Completed',
    'common.cancelled': 'Cancelled',
    
    // Authentication
    'auth.welcome': 'Welcome to WeGo24',
    'auth.signin': 'Sign In',
    'auth.signup': 'Sign Up',
    'auth.signout': 'Sign Out',
    'auth.email': 'Email',
    'auth.password': 'Password',
    'auth.confirmPassword': 'Confirm Password',
    'auth.firstName': 'First Name',
    'auth.lastName': 'Last Name',
    'auth.forgotPassword': 'Forgot Password?',
    'auth.resetPassword': 'Reset Password',
    'auth.createAccount': 'Create Account',
    'auth.alreadyHaveAccount': 'Already have an account?',
    'auth.dontHaveAccount': "Don't have an account?",
    'auth.signInWith': 'Sign in with',
    'auth.orContinueWith': 'Or continue with',
    
    // Restaurant
    'restaurant.menu': 'Menu',
    'restaurant.orderNow': 'Order Now',
    'restaurant.addToCart': 'Add to Cart',
    'restaurant.viewCart': 'View Cart',
    'restaurant.checkout': 'Checkout',
    'restaurant.deliveryFee': 'Delivery Fee',
    'restaurant.minimumOrder': 'Minimum Order',
    'restaurant.deliveryTime': 'Delivery Time',
    'restaurant.rating': 'Rating',
    'restaurant.reviews': 'Reviews',
    'restaurant.cuisine': 'Cuisine',
    'restaurant.openingHours': 'Opening Hours',
    
    // Orders
    'order.placeOrder': 'Place Order',
    'order.orderHistory': 'Order History',
    'order.orderDetails': 'Order Details',
    'order.orderNumber': 'Order Number',
    'order.orderStatus': 'Order Status',
    'order.orderTotal': 'Order Total',
    'order.deliveryAddress': 'Delivery Address',
    'order.deliveryInstructions': 'Delivery Instructions',
    'order.paymentMethod': 'Payment Method',
    'order.estimatedDelivery': 'Estimated Delivery',
    'order.trackOrder': 'Track Order',
    
    // Driver
    'driver.dashboard': 'Driver Dashboard',
    'driver.availability': 'Availability',
    'driver.earnings': 'Earnings',
    'driver.performance': 'Performance',
    'driver.documents': 'Documents',
    'driver.profile': 'Profile',
    'driver.settings': 'Settings',
    'driver.online': 'Online',
    'driver.offline': 'Offline',
    'driver.acceptOrder': 'Accept Order',
    'driver.declineOrder': 'Decline Order',
    'driver.pickupLocation': 'Pickup Location',
    'driver.deliveryLocation': 'Delivery Location',
    'driver.orderPicked': 'Order Picked Up',
    'driver.orderDelivered': 'Order Delivered',
    
    // Partner
    'partner.dashboard': 'Partner Dashboard',
    'partner.register': 'Partner Registration',
    'partner.application': 'Application',
    'partner.businessInfo': 'Business Information',
    'partner.contactInfo': 'Contact Information',
    'partner.locationInfo': 'Location Information',
    'partner.businessName': 'Business Name',
    'partner.businessType': 'Business Type',
    'partner.businessDescription': 'Business Description',
    'partner.menuManagement': 'Menu Management',
    'partner.orderManagement': 'Order Management',
    'partner.analytics': 'Analytics',
    
    // Admin
    'admin.dashboard': 'Admin Dashboard',
    'admin.users': 'Users',
    'admin.restaurants': 'Restaurants',
    'admin.drivers': 'Drivers',
    'admin.orders': 'Orders',
    'admin.analytics': 'Analytics',
    'admin.settings': 'Settings',
    'admin.reports': 'Reports',
    'admin.demoData': 'Demo Data',
    'admin.systemHealth': 'System Health',
    
    // Profile
    'profile.personalInfo': 'Personal Information',
    'profile.preferences': 'Preferences',
    'profile.notifications': 'Notifications',
    'profile.privacy': 'Privacy',
    'profile.changePassword': 'Change Password',
    'profile.deleteAccount': 'Delete Account',
    'profile.language': 'Language',
    'profile.theme': 'Theme',
    
    // Subscription
    'subscription.plans': 'Subscription Plans',
    'subscription.currentPlan': 'Current Plan',
    'subscription.upgrade': 'Upgrade',
    'subscription.cancel': 'Cancel',
    'subscription.billing': 'Billing',
    'subscription.paymentMethod': 'Payment Method',
    'subscription.invoices': 'Invoices',
    
    // Error Messages
    'error.general': 'Something went wrong. Please try again.',
    'error.network': 'Network error. Please check your connection.',
    'error.unauthorized': 'You are not authorized to perform this action.',
    'error.notFound': 'The requested resource was not found.',
    'error.validation': 'Please check your input and try again.',
    
    // Success Messages
    'success.saved': 'Changes saved successfully!',
    'success.deleted': 'Item deleted successfully!',
    'success.created': 'Item created successfully!',
    'success.updated': 'Item updated successfully!',
    'success.orderPlaced': 'Order placed successfully!',
    'success.passwordChanged': 'Password changed successfully!',
  },
  es: {
    // Navigation
    'nav.home': 'Inicio',
    'nav.restaurants': 'Restaurantes',
    'nav.orders': 'Pedidos',
    'nav.driver': 'Conductor',
    'nav.partner': 'Socio',
    'nav.dashboard': 'Panel',
    'nav.profile': 'Perfil',
    'nav.login': 'Iniciar Sesión',
    'nav.logout': 'Cerrar Sesión',
    'nav.signup': 'Registrarse',
    'nav.admin': 'Admin',
    'nav.subscription': 'Suscripción',
    'nav.courier': 'Mensajero',
    'nav.settings': 'Configuración',
    'nav.help': 'Ayuda',
    'nav.contact': 'Contacto',
    
    // Common
    'common.loading': 'Cargando...',
    'common.error': 'Error',
    'common.success': 'Éxito',
    'common.cancel': 'Cancelar',
    'common.confirm': 'Confirmar',
    'common.save': 'Guardar',
    'common.delete': 'Eliminar',
    'common.edit': 'Editar',
    'common.view': 'Ver',
    'common.back': 'Atrás',
    'common.next': 'Siguiente',
    'common.previous': 'Anterior',
    'common.search': 'Buscar',
    'common.filter': 'Filtrar',
    'common.sort': 'Ordenar',
    'common.total': 'Total',
    'common.subtotal': 'Subtotal',
    'common.tax': 'Impuesto',
    'common.fee': 'Tarifa',
    'common.price': 'Precio',
    'common.quantity': 'Cantidad',
    'common.name': 'Nombre',
    'common.email': 'Email',
    'common.phone': 'Teléfono',
    'common.address': 'Dirección',
    'common.city': 'Ciudad',
    'common.status': 'Estado',
    'common.date': 'Fecha',
    'common.time': 'Hora',
    'common.description': 'Descripción',
    'common.notes': 'Notas',
    'common.rating': 'Calificación',
    'common.review': 'Reseña',
    'common.submit': 'Enviar',
    'common.close': 'Cerrar',
    'common.open': 'Abierto',
    'common.closed': 'Cerrado',
    'common.available': 'Disponible',
    'common.unavailable': 'No Disponible',
    'common.active': 'Activo',
    'common.inactive': 'Inactivo',
    'common.pending': 'Pendiente',
    'common.approved': 'Aprobado',
    'common.rejected': 'Rechazado',
    'common.completed': 'Completado',
    'common.cancelled': 'Cancelado',
    
    // Authentication
    'auth.welcome': 'Bienvenido a WeGo24',
    'auth.signin': 'Iniciar Sesión',
    'auth.signup': 'Registrarse',
    'auth.signout': 'Cerrar Sesión',
    'auth.email': 'Email',
    'auth.password': 'Contraseña',
    'auth.confirmPassword': 'Confirmar Contraseña',
    'auth.firstName': 'Nombre',
    'auth.lastName': 'Apellido',
    'auth.forgotPassword': '¿Olvidaste tu contraseña?',
    'auth.resetPassword': 'Restablecer Contraseña',
    'auth.createAccount': 'Crear Cuenta',
    'auth.alreadyHaveAccount': '¿Ya tienes una cuenta?',
    'auth.dontHaveAccount': '¿No tienes una cuenta?',
    'auth.signInWith': 'Iniciar sesión con',
    'auth.orContinueWith': 'O continúa con',
    
    // Restaurant
    'restaurant.menu': 'Menú',
    'restaurant.orderNow': 'Pedir Ahora',
    'restaurant.addToCart': 'Añadir al Carrito',
    'restaurant.viewCart': 'Ver Carrito',
    'restaurant.checkout': 'Finalizar Compra',
    'restaurant.deliveryFee': 'Tarifa de Envío',
    'restaurant.minimumOrder': 'Pedido Mínimo',
    'restaurant.deliveryTime': 'Tiempo de Entrega',
    'restaurant.rating': 'Calificación',
    'restaurant.reviews': 'Reseñas',
    'restaurant.cuisine': 'Cocina',
    'restaurant.openingHours': 'Horarios de Apertura',
    
    // Orders
    'order.placeOrder': 'Realizar Pedido',
    'order.orderHistory': 'Historial de Pedidos',
    'order.orderDetails': 'Detalles del Pedido',
    'order.orderNumber': 'Número de Pedido',
    'order.orderStatus': 'Estado del Pedido',
    'order.orderTotal': 'Total del Pedido',
    'order.deliveryAddress': 'Dirección de Entrega',
    'order.deliveryInstructions': 'Instrucciones de Entrega',
    'order.paymentMethod': 'Método de Pago',
    'order.estimatedDelivery': 'Entrega Estimada',
    'order.trackOrder': 'Rastrear Pedido',
    
    // Driver
    'driver.dashboard': 'Panel del Conductor',
    'driver.availability': 'Disponibilidad',
    'driver.earnings': 'Ganancias',
    'driver.performance': 'Rendimiento',
    'driver.documents': 'Documentos',
    'driver.profile': 'Perfil',
    'driver.settings': 'Configuración',
    'driver.online': 'En Línea',
    'driver.offline': 'Desconectado',
    'driver.acceptOrder': 'Aceptar Pedido',
    'driver.declineOrder': 'Rechazar Pedido',
    'driver.pickupLocation': 'Ubicación de Recogida',
    'driver.deliveryLocation': 'Ubicación de Entrega',
    'driver.orderPicked': 'Pedido Recogido',
    'driver.orderDelivered': 'Pedido Entregado',
    
    // Partner
    'partner.dashboard': 'Panel del Socio',
    'partner.register': 'Registro de Socio',
    'partner.application': 'Aplicación',
    'partner.businessInfo': 'Información del Negocio',
    'partner.contactInfo': 'Información de Contacto',
    'partner.locationInfo': 'Información de Ubicación',
    'partner.businessName': 'Nombre del Negocio',
    'partner.businessType': 'Tipo de Negocio',
    'partner.businessDescription': 'Descripción del Negocio',
    'partner.menuManagement': 'Gestión de Menú',
    'partner.orderManagement': 'Gestión de Pedidos',
    'partner.analytics': 'Analíticas',
    
    // Admin
    'admin.dashboard': 'Panel de Admin',
    'admin.users': 'Usuarios',
    'admin.restaurants': 'Restaurantes',
    'admin.drivers': 'Conductores',
    'admin.orders': 'Pedidos',
    'admin.analytics': 'Analíticas',
    'admin.settings': 'Configuración',
    'admin.reports': 'Reportes',
    'admin.demoData': 'Datos de Demo',
    'admin.systemHealth': 'Salud del Sistema',
    
    // Profile
    'profile.personalInfo': 'Información Personal',
    'profile.preferences': 'Preferencias',
    'profile.notifications': 'Notificaciones',
    'profile.privacy': 'Privacidad',
    'profile.changePassword': 'Cambiar Contraseña',
    'profile.deleteAccount': 'Eliminar Cuenta',
    'profile.language': 'Idioma',
    'profile.theme': 'Tema',
    
    // Subscription
    'subscription.plans': 'Planes de Suscripción',
    'subscription.currentPlan': 'Plan Actual',
    'subscription.upgrade': 'Mejorar',
    'subscription.cancel': 'Cancelar',
    'subscription.billing': 'Facturación',
    'subscription.paymentMethod': 'Método de Pago',
    'subscription.invoices': 'Facturas',
    
    // Error Messages
    'error.general': 'Algo salió mal. Por favor, inténtalo de nuevo.',
    'error.network': 'Error de red. Por favor, verifica tu conexión.',
    'error.unauthorized': 'No estás autorizado para realizar esta acción.',
    'error.notFound': 'El recurso solicitado no fue encontrado.',
    'error.validation': 'Por favor, verifica tu entrada e inténtalo de nuevo.',
    
    // Success Messages
    'success.saved': '¡Cambios guardados exitosamente!',
    'success.deleted': '¡Elemento eliminado exitosamente!',
    'success.created': '¡Elemento creado exitosamente!',
    'success.updated': '¡Elemento actualizado exitosamente!',
    'success.orderPlaced': '¡Pedido realizado exitosamente!',
    'success.passwordChanged': '¡Contraseña cambiada exitosamente!',
  },
  de: {
    // Navigation
    'nav.home': 'Startseite',
    'nav.restaurants': 'Restaurants',
    'nav.orders': 'Bestellungen',
    'nav.driver': 'Fahrer',
    'nav.partner': 'Partner',
    'nav.dashboard': 'Dashboard',
    'nav.profile': 'Profil',
    'nav.login': 'Anmelden',
    'nav.logout': 'Abmelden',
    'nav.signup': 'Registrieren',
    'nav.admin': 'Admin',
    'nav.subscription': 'Abonnement',
    'nav.courier': 'Kurier',
    'nav.settings': 'Einstellungen',
    'nav.help': 'Hilfe',
    'nav.contact': 'Kontakt',
    
    // Common
    'common.loading': 'Lädt...',
    'common.error': 'Fehler',
    'common.success': 'Erfolg',
    'common.cancel': 'Abbrechen',
    'common.confirm': 'Bestätigen',
    'common.save': 'Speichern',
    'common.delete': 'Löschen',
    'common.edit': 'Bearbeiten',
    'common.view': 'Ansehen',
    'common.back': 'Zurück',
    'common.next': 'Weiter',
    'common.previous': 'Vorherige',
    'common.search': 'Suchen',
    'common.filter': 'Filter',
    'common.sort': 'Sortieren',
    'common.total': 'Gesamt',
    'common.subtotal': 'Zwischensumme',
    'common.tax': 'Steuer',
    'common.fee': 'Gebühr',
    'common.price': 'Preis',
    'common.quantity': 'Menge',
    'common.name': 'Name',
    'common.email': 'E-Mail',
    'common.phone': 'Telefon',
    'common.address': 'Adresse',
    'common.city': 'Stadt',
    'common.status': 'Status',
    'common.date': 'Datum',
    'common.time': 'Zeit',
    'common.description': 'Beschreibung',
    'common.notes': 'Notizen',
    'common.rating': 'Bewertung',
    'common.review': 'Rezension',
    'common.submit': 'Absenden',
    'common.close': 'Schließen',
    'common.open': 'Geöffnet',
    'common.closed': 'Geschlossen',
    'common.available': 'Verfügbar',
    'common.unavailable': 'Nicht Verfügbar',
    'common.active': 'Aktiv',
    'common.inactive': 'Inaktiv',
    'common.pending': 'Ausstehend',
    'common.approved': 'Genehmigt',
    'common.rejected': 'Abgelehnt',
    'common.completed': 'Abgeschlossen',
    'common.cancelled': 'Storniert',
    
    // Authentication
    'auth.welcome': 'Willkommen bei WeGo24',
    'auth.signin': 'Anmelden',
    'auth.signup': 'Registrieren',
    'auth.signout': 'Abmelden',
    'auth.email': 'E-Mail',
    'auth.password': 'Passwort',
    'auth.confirmPassword': 'Passwort Bestätigen',
    'auth.firstName': 'Vorname',
    'auth.lastName': 'Nachname',
    'auth.forgotPassword': 'Passwort vergessen?',
    'auth.resetPassword': 'Passwort Zurücksetzen',
    'auth.createAccount': 'Konto Erstellen',
    'auth.alreadyHaveAccount': 'Haben Sie bereits ein Konto?',
    'auth.dontHaveAccount': 'Haben Sie noch kein Konto?',
    'auth.signInWith': 'Anmelden mit',
    'auth.orContinueWith': 'Oder fortfahren mit',
    
    // Restaurant
    'restaurant.menu': 'Menü',
    'restaurant.orderNow': 'Jetzt Bestellen',
    'restaurant.addToCart': 'In den Warenkorb',
    'restaurant.viewCart': 'Warenkorb Ansehen',
    'restaurant.checkout': 'Zur Kasse',
    'restaurant.deliveryFee': 'Liefergebühr',
    'restaurant.minimumOrder': 'Mindestbestellung',
    'restaurant.deliveryTime': 'Lieferzeit',
    'restaurant.rating': 'Bewertung',
    'restaurant.reviews': 'Bewertungen',
    'restaurant.cuisine': 'Küche',
    'restaurant.openingHours': 'Öffnungszeiten',
    
    // Orders
    'order.placeOrder': 'Bestellung Aufgeben',
    'order.orderHistory': 'Bestellhistorie',
    'order.orderDetails': 'Bestelldetails',
    'order.orderNumber': 'Bestellnummer',
    'order.orderStatus': 'Bestellstatus',
    'order.orderTotal': 'Bestellsumme',
    'order.deliveryAddress': 'Lieferadresse',
    'order.deliveryInstructions': 'Lieferanweisungen',
    'order.paymentMethod': 'Zahlungsmethode',
    'order.estimatedDelivery': 'Geschätzte Lieferung',
    'order.trackOrder': 'Bestellung Verfolgen',
    
    // Driver
    'driver.dashboard': 'Fahrer Dashboard',
    'driver.availability': 'Verfügbarkeit',
    'driver.earnings': 'Einnahmen',
    'driver.performance': 'Leistung',
    'driver.documents': 'Dokumente',
    'driver.profile': 'Profil',
    'driver.settings': 'Einstellungen',
    'driver.online': 'Online',
    'driver.offline': 'Offline',
    'driver.acceptOrder': 'Bestellung Annehmen',
    'driver.declineOrder': 'Bestellung Ablehnen',
    'driver.pickupLocation': 'Abholort',
    'driver.deliveryLocation': 'Lieferort',
    'driver.orderPicked': 'Bestellung Abgeholt',
    'driver.orderDelivered': 'Bestellung Geliefert',
    
    // Partner
    'partner.dashboard': 'Partner Dashboard',
    'partner.register': 'Partner Registrierung',
    'partner.application': 'Bewerbung',
    'partner.businessInfo': 'Geschäftsinformationen',
    'partner.contactInfo': 'Kontaktinformationen',
    'partner.locationInfo': 'Standortinformationen',
    'partner.businessName': 'Geschäftsname',
    'partner.businessType': 'Geschäftstyp',
    'partner.businessDescription': 'Geschäftsbeschreibung',
    'partner.menuManagement': 'Menüverwaltung',
    'partner.orderManagement': 'Bestellverwaltung',
    'partner.analytics': 'Analytik',
    
    // Admin
    'admin.dashboard': 'Admin Dashboard',
    'admin.users': 'Benutzer',
    'admin.restaurants': 'Restaurants',
    'admin.drivers': 'Fahrer',
    'admin.orders': 'Bestellungen',
    'admin.analytics': 'Analytik',
    'admin.settings': 'Einstellungen',
    'admin.reports': 'Berichte',
    'admin.demoData': 'Demo Daten',
    'admin.systemHealth': 'Systemzustand',
    
    // Profile
    'profile.personalInfo': 'Persönliche Informationen',
    'profile.preferences': 'Einstellungen',
    'profile.notifications': 'Benachrichtigungen',
    'profile.privacy': 'Datenschutz',
    'profile.changePassword': 'Passwort Ändern',
    'profile.deleteAccount': 'Konto Löschen',
    'profile.language': 'Sprache',
    'profile.theme': 'Theme',
    
    // Subscription
    'subscription.plans': 'Abonnement Pläne',
    'subscription.currentPlan': 'Aktueller Plan',
    'subscription.upgrade': 'Upgrade',
    'subscription.cancel': 'Kündigen',
    'subscription.billing': 'Abrechnung',
    'subscription.paymentMethod': 'Zahlungsmethode',
    'subscription.invoices': 'Rechnungen',
    
    // Error Messages
    'error.general': 'Etwas ist schief gelaufen. Bitte versuchen Sie es erneut.',
    'error.network': 'Netzwerkfehler. Bitte überprüfen Sie Ihre Verbindung.',
    'error.unauthorized': 'Sie sind nicht berechtigt, diese Aktion auszuführen.',
    'error.notFound': 'Die angeforderte Ressource wurde nicht gefunden.',
    'error.validation': 'Bitte überprüfen Sie Ihre Eingabe und versuchen Sie es erneut.',
    
    // Success Messages
    'success.saved': 'Änderungen erfolgreich gespeichert!',
    'success.deleted': 'Element erfolgreich gelöscht!',
    'success.created': 'Element erfolgreich erstellt!',
    'success.updated': 'Element erfolgreich aktualisiert!',
    'success.orderPlaced': 'Bestellung erfolgreich aufgegeben!',
    'success.passwordChanged': 'Passwort erfolgreich geändert!',
  },
};

export const TranslationProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>('en');

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  return (
    <TranslationContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </TranslationContext.Provider>
  );
};

export const useTranslation = () => {
  const context = useContext(TranslationContext);
  if (context === undefined) {
    throw new Error('useTranslation must be used within a TranslationProvider');
  }
  return context;
};
